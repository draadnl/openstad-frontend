{% include 'includes/form-header.html' %}
<div class="dynamic-form">
  {#
    Fields in section
    - title
    - info
    - formfields: key, info, type(summary, text,)
  #}

  {% for formSection in data.widget.dynamicFormSections %}
  <div class="form-group">
    {% if formSection.title %}
    <h2>
      {{ formSection.title }}
    </h2>
    {% endif %}

    {% if formSection.info %}
    <div class="form-info">
      {{ formSection.info  | nlbr | sanitize | safe }}
    </div>
    {% endif %}

    {% for field in formSection.fields %}
    {% if not field.onlyForModerator or (field.onlyForModerator and data.hasModeratorRights) %}
    <div class="form-field-container">

        {% if field.fieldInfo and field.type !== 'info' %}
          {% if field.fieldKey %}
            <label for="{{field.fieldKey}}" class="question-label"> {{field.fieldInfo}} </label>
          {% else %}
            <p class="question-label"> {{field.fieldInfo}} </p>
          {% endif %}
        {% endif %}

        {% if field.descriptionText and field.type !== 'info' %}
        <p class="description"> {{field.descriptionText}} </p>
        {% endif %}

      {% include 'includes/fields/' + field.type + '.html' ignore missing %}
    </div>
    <br />
    {% endif %}
    {% endfor %}
    <br />
  </div>
  {% endfor %}
</div>
{% include 'includes/form-footer.html' %}
