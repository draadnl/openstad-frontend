{% if activeResource %}
  {% if field.notExtraDataKey %}
  {% set fieldValue = activeResource[field.fieldKey] %}
  {% else %}
  {% set fieldValue = activeResource.extraData[field.fieldKey] %}
  {% endif %}
{% endif %}

{% if not fieldValue %}
  {% if data.query[field.fieldKey] %}
  {% set fieldValue = data.query[field.fieldKey] %}
  {% else %}
  {% set fieldValue = field.fieldValue %}
  {% endif %}
{% endif %}

{% set uniqueId = apos.utils.generateId() %}

<div class="radio-container">
  {% for option in field.fieldOptions %}
  <div class="radio">
    <input
      type="radio"
      name="extraData[{{field.fieldKey}}]"
      value="{{option.value}}"
      id="radio-{{uniqueId}}-{{loop.index}}-{{option.value}}"

      {% if field.fieldRequired %}required{% endif %}
      {% if fieldValue === option.value %}checked{% endif %}
    />

    <label for="radio-{{uniqueId}}-{{loop.index}}-{{option.value}}" class="radio-label">
       {{option.label}}
    </label>
  </div>
  {% endfor %}
</div>
