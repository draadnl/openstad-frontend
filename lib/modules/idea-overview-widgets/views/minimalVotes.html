

<div
  class="tile-list ideas-list"
  {% if data.widget.defaultSorting %}
	data-default-sort="{{data.widget.defaultSorting}}"
	{% endif %}
>{% for idea in data.widget.ideas %}
  {% if data.widget.mapCustomStatuses and data.widget.customStatusMapping.includes(idea.status) and data.widget['map' + idea.status] %}
    {% set mappedStatus = data.widget['map' + idea.status] %}
  {% else %}
    {% set mappedStatus = idea.status %}
  {% endif %}
  <div
  class="tile idea-item {{mappedStatus}} {{'USER' if data.openstadUser.id === idea.userId}}"
  data-createdtime="{{idea.createdTime}}"
  data-likes="{{idea.yes}}"
  data-budget="{{idea.budget}}"
  data-ranking="{{idea.ranking}}"
  data-ideaid="{{idea.id}}"
>
  <a href="/{{data.global.ideaSlug}}/{{idea.id}}">
    {% if mappedStatus != 'DENIED' and idea.ranking %}
    <div class="ranking"><div class="label">{{idea.ranking}}</div></div>
    {% endif %}

    <div class="image"   style="background-image: url('{{data.widget.formatImageUrl(idea.extraData.images[0], 500, 500, true, idea.location) }}')"></div>

    <div class="duration">
      {{ data.widget['label' + mappedStatus] }}
    </div>

    <div class="info">
      <h3>{{idea.title}}</h3>
      {% if idea.extraData %}
        <div class="thema">{{idea.extraData.theme}}</div>
        <div class="gebied">{{idea.extraData.area}}</div>
      {% endif %}
      <p>{{idea.summary | safe | truncate(60) }}</p>

      {% if data.widget.siteConfig.minimumYesVotes %}
      <div class="ideaProgress">
        <div class="progress"><div class="bar {{mappedStatus}}" style="width: {{idea.progress}}%;"></div></div>
      </div>
      {% endif %}
      <div class="ideaStats">
        <table width="100%" border="0" celpadding="0" cellspacting="0">
          <tr>
            <td align="left"><div class="count yes">{{idea.yes}}</div></td>
            {% if data.widget.siteConfig.voteValues and data.widget.siteConfig.voteValues.length > 1 %}{# TODO: dit moet generieker de waarden uit de api gebruiken #}
            <td align="center"><div class="count no">{{idea.no}}</div></td>
            {% endif %}
            <td align="right"><div class="count arguments">{{idea.argCount}}</div></td>
          </tr>
        </table>
      </div>
    </div>
  </a>
</div>{%
      else %}
<i>Wees de eerste met een goed plan voor jouw buurt!</i>
{% endfor %}</div>
